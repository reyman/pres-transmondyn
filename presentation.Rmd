---
title: "Vers une recherche reproductible pour la simulation" 
author: " Robin Cura ; Sébastien Rey-Coyrehourcq"
date: "22/10/2014"
output:
  ioslides_presentation:
    highlight: pygments
    css: slides.css
runtime: shiny
font-import: http://fonts.googleapis.com/css?family=Ubuntu
font-family: Ubuntu
bibliography: /home/srey/TRAVAUX/THESE/REPOSITORY_GIT/presentations/transmondyn_28102014/transmondyn.bib
csl: /home/srey/TRAVAUX/THESE/REPOSITORY_GIT/presentations/transmondyn_28102014/annals-of-the-association-of-american-geographers.csl
widescreen: yes
---

[//]: <> (http://stackoverflow.com/questions/3311940/r-rjava-package-install-failing)

---

<q> Faire le point sur la <span class="red">réplication</span> des modèles de simulations dans le contexte plus large des débats et des outils proposés pour assurer une <span class="red">recherche reproductible</span></q>

# Débats

## Prise de conscience

Multiple crises ... psychologie, science sociales
=> Prise de conscience **brutale**

## Remise à plat des termes

- Reproductibilité = Reproductibility ? 
- Reproducible = Replicable ?

# Open NoteBook

---
<q> ... there is a URL to a laboratory notebook that is freely available and indexed on common search engines. It does not necessarily have to look like a paper notebook but it is essential that all of the information available to the researchers to make their conclusions is equally available to the rest of the world -- Jean-Claude Bradley </p>

## Pourquoi ?
- local pour le partage, la replication
- web pour le partage, la dissémination

## Comment ?

Des langages, des communautées, des innovations :
- R 
- Python

=> Etude de l'existant : R un langage 

##  R statique

- Génération de rapport dynamique 
- mais un rendu des éléments statique

=> Exemple de réalisation ? ElementR 

##  R interactif | Rcharts

Pas mature, mais à suivre ...

```{r rcht, message=FALSE, echo=FALSE, results='asis'}
library(rCharts)
n1 <- rPlot(mpg ~ wt, data = mtcars, color = "gear", type = "point")
n1$show('iframesrc', cdn = TRUE)
```

## R interactif | ggvis

```{r ggvis,echo=FALSE}
library(ggvis)
mtcars %>%
  ggvis(~wt, ~mpg) %>%
  layer_smooths(span = input_slider(0.5, 1, value = 1)) %>%
  layer_points(size := input_slider(100, 1000, value = 100))

```

##  R interactif | Shiny

bla

## Vers des outils plus Polyglotte

bla 

## Python reproductible 

```{r engine="python",echo=FALSE}
from mpl_toolkits.mplot3d import Axes3D
import matplotlib.pyplot as plt
import numpy as np

fig = plt.figure()
ax = fig.add_subplot(111, projection='3d')
for c, z in zip(['r', 'g', 'b', 'y'], [30, 20, 10, 0]):
  xs = np.arange(20)
  ys = np.random.rand(20)

# You can provide either a single color or an array. To demonstrate this,
# the first bar of each set will be colored cyan.
cs = [c] * len(xs)
cs[0] = 'c'
ax.bar(xs, ys, zs=z, zdir='y', color=cs, alpha=0.8)

ax.set_xlabel('X')
ax.set_ylabel('Y')
ax.set_zlabel('Z')

plt.savefig("somefilename.png")
```

```{r showfig,include=TRUE,echo=FALSE, results='asis'} 
cat("![figure](./somefilename.png)")
```

# Simulation

## Et pour la simulation ? 

Deux niveaux à prendre en compte : 
- Simulation(s)
- Exploration(s) de simulation 

## Exemple avec RNetlogo 

R Netlogo, un outil puissant pour générer des rapports dynamique auto-suffisant.

## Quelles contraintes ?

- déposer les données
- déposer les codes sources
- déposer le(s) papier(s) support des expériences

Est ce suffisant ? => Non, problème plus complexe !

## Ecosystèmes

- Machine virtuelle
- Suivi et empaquetage de dépendance (packrat, etc.)
- Workflows

# References {.smaller}

